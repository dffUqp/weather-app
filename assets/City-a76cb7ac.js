import{j as e,F as u,B as n,a,L as g,d as y,b as w,u as C,N as F}from"./index-535bdcdd.js";import{P as c,u as p,t as h,W as x,I as W}from"./weatherServices-673bdacf.js";import{T as r,i as m,u as S,a as z,b as v,d as I,c as $,W as L,C as _}from"./WeatherInfo-01782bd0.js";const b=()=>e(u,{children:[...new Array(8)].map((s,i)=>e(c,{sx:{width:"100px",height:"105px",background:"transparent",textAlign:"center",p:"10px"}},i))});function A({lat:s,lon:i,timezone:d}){const{data:o,isRefetching:t}=p("hourlyForecast",()=>x.getHourlyForecast({lat:s,lon:i,units:"metric"}));return e(n,{display:"flex",gap:"10px",width:"320px",flexWrap:"wrap",justifyContent:{sm:"flex-end",xs:"flex-start"},children:t||o==null?e(b,{}):o.map(l=>a(c,{sx:{maxWidth:"100px",width:"100%",height:"105px",background:"transparent",textAlign:"center",p:"10px"},children:[e(r,{children:`${h(l.dt,d,"h:mm a")}`}),a(n,{display:"flex",alignItems:"center",children:[e("img",{src:m(l.icon),alt:"",width:40}),e(r,{children:`${l.temp.toFixed()}째C`})]}),e(r,{fontSize:14,children:l.details})]},l.dt))})}const H=({pathname:s,coord:i})=>{const d=S(f=>z(f,i.lat,i.lon)),o=v(),{data:t,isRefetching:l}=p(["city",s],()=>x.getWeather({units:"metric",...i}));return l||t==null?e(n,{height:"95vh",children:e(g,{})}):a(c,{sx:{marginTop:"24px",p:"20px",display:"flex",width:"100%",alignItems:"flex-start",flexWrap:"wrap",justifyContent:"space-between",gap:"25px",minHeight:"375px"},elevation:2,children:[a(n,{children:[a(n,{display:"flex",alignItems:"start",children:[a(n,{children:[e("img",{src:m(t.icon),alt:"",width:115}),a(n,{display:"flex",borderBottom:"1px solid #D3D3D3",children:[a(r,{fontSize:"24px",maxWidth:"140px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textTransform:"capitalize",marginRight:1,children:[t.name,","]}),e(r,{fontSize:"24px",children:t.country})]}),e(r,{fontSize:"48px",children:`${t.temp.toFixed()}째C`}),a(n,{display:"flex",columnGap:"5px",color:"white",children:[e(r,{children:`High: ${t.temp_max.toFixed()}째C`}),"|",e(r,{children:`Low: ${t.temp_min.toFixed()}째C`})]})]}),e(W,{onClick:()=>o(d?y(i):w(i)),children:d?e(I,{}):e($,{})})]}),e(L,{mt:2,humidity:t.humidity,speed:t.speed,feels_like:t.feels_like})]}),e(n,{order:{md:0,xs:3},children:a(r,{fontSize:18,children:["Local time: ",`${h(t.dt,t.timezone,"dddd, h:mm a")}`]})}),a(n,{textAlign:{sm:"end",xs:"start"},order:{md:0,xs:2},children:[e(r,{fontSize:18,children:"Hourly Forecast"}),e(A,{lat:t.lat,lon:t.lon,timezone:t.timezone})]})]})},j=H;function D(){const s=C(),i=s.state;return i?e(_,{maxWidth:"xl",children:e(j,{pathname:s.pathname,coord:i})}):e(F,{to:"/"})}export{D as default};
