import{r as h,g as Z,h as Y,k as B,_ as w,l as J,m as X,n as q,a as p,o as ee,p as y,q as z,t as te,v as ne,w as re,R as ie,j as g,B as b,x as oe,c as se,u as E,i as ae,d as ce,e as ue,L as le,y as pe}from"./index-0300325d.js";import{a as de,P as T,r as fe,i as me,b as he,I as L,u as ge,W as xe}from"./weatherServices-4765fbb7.js";import{T as C,i as ve,W as we,d as Se,a as $e,C as Ce}from"./WeatherInfoBlock-d59ecd77.js";import{u as D}from"./useTheme-724e54a8.js";const be=h.createContext(),P=be;function ye(e){return Z("MuiGrid",e)}const ke=[0,1,2,3,4,5,6,7,8,9,10],We=["column-reverse","column","row-reverse","row"],Be=["nowrap","wrap-reverse","wrap"],v=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],S=Y("MuiGrid",["root","container","item","zeroMinWidth",...ke.map(e=>`spacing-xs-${e}`),...We.map(e=>`direction-xs-${e}`),...Be.map(e=>`wrap-xs-${e}`),...v.map(e=>`grid-xs-${e}`),...v.map(e=>`grid-sm-${e}`),...v.map(e=>`grid-md-${e}`),...v.map(e=>`grid-lg-${e}`),...v.map(e=>`grid-xl-${e}`)]),ze=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function x(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Ge({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=y({values:t.columns,breakpoints:e.breakpoints.values}),u=typeof a=="object"?a[i]:a;if(u==null)return r;const c=`${Math.round(n/u*1e8)/1e6}%`;let l={};if(t.container&&t.item&&t.columnSpacing!==0){const s=e.spacing(t.columnSpacing);if(s!=="0px"){const d=`calc(${c} + ${x(s)})`;l={flexBasis:d,maxWidth:d}}}o=w({flexBasis:c,flexGrow:0,maxWidth:c},l)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function Me({theme:e,ownerState:t}){const n=y({values:t.direction,breakpoints:e.breakpoints.values});return z({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${S.item}`]={maxWidth:"none"}),i})}function I({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function Ne({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=y({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=I({breakpoints:e.breakpoints.values,values:o})),i=z({theme:e},o,(u,c)=>{var l;const s=e.spacing(u);return s!=="0px"?{marginTop:`-${x(s)}`,[`& > .${S.item}`]:{paddingTop:x(s)}}:(l=a)!=null&&l.includes(c)?{}:{marginTop:0,[`& > .${S.item}`]:{paddingTop:0}}})}return i}function Re({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=y({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=I({breakpoints:e.breakpoints.values,values:o})),i=z({theme:e},o,(u,c)=>{var l;const s=e.spacing(u);return s!=="0px"?{width:`calc(100% + ${x(s)})`,marginLeft:`-${x(s)}`,[`& > .${S.item}`]:{paddingLeft:x(s)}}:(l=a)!=null&&l.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${S.item}`]:{paddingLeft:0}}})}return i}function _e(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const Le=B("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:u,zeroMinWidth:c,breakpoints:l}=n;let s=[];r&&(s=_e(a,l,t));const d=[];return l.forEach(f=>{const m=n[f];m&&d.push(t[`grid-${f}-${String(m)}`])}),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth,...s,i!=="row"&&t[`direction-xs-${String(i)}`],u!=="wrap"&&t[`wrap-xs-${String(u)}`],...d]}})(({ownerState:e})=>w({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Me,Ne,Re,Ge);function Pe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const je=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=e;let l=[];n&&(l=Pe(o,c));const s=[];c.forEach(f=>{const m=e[f];m&&s.push(`grid-${f}-${String(m)}`)});const d={root:["root",n&&"container",i&&"item",u&&"zeroMinWidth",...l,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...s]};return te(d,ye,t)},Ee=h.forwardRef(function(t,n){const r=J({props:t,name:"MuiGrid"}),{breakpoints:i}=D(),o=X(r),{className:a,columns:u,columnSpacing:c,component:l="div",container:s=!1,direction:d="row",item:f=!1,rowSpacing:m,spacing:k=0,wrap:F="wrap",zeroMinWidth:Q=!1}=o,W=q(o,ze),A=m||k,H=c||k,K=h.useContext(P),M=s?u||12:K,N={},R=w({},W);i.keys.forEach($=>{W[$]!=null&&(N[$]=W[$],delete R[$])});const _=w({},o,{columns:M,container:s,direction:d,item:f,rowSpacing:A,columnSpacing:H,wrap:F,zeroMinWidth:Q,spacing:k},N,{breakpoints:i.keys}),U=je(_);return p(P.Provider,{value:M,children:p(Le,w({ownerState:_,className:ee(U.root,a),as:l,ref:n},R))})}),j=Ee;function Te(e,t,n,r,i){const[o,a]=h.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return de(()=>{let u=!0;if(!n)return;const c=n(e),l=()=>{u&&a(c.matches)};return l(),c.addListener(l),()=>{u=!1,c.removeListener(l)}},[e,n]),o}const V=ie["useSyncExternalStore"];function De(e,t,n,r,i){const o=h.useCallback(()=>t,[t]),a=h.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:s}=r(e);return()=>s}return o},[o,e,r,i,n]),[u,c]=h.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const s=n(e);return[()=>s.matches,d=>(s.addListener(d),()=>{s.removeListener(d)})]},[o,n,e]);return V(c,u,a)}function Ie(e,t={}){const n=ne(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:u=!1}=re({name:"MuiUseMediaQuery",props:t,theme:n});let c=typeof e=="function"?e(n):e;return c=c.replace(/^@media( ?)/m,""),(V!==void 0?De:Te)(c,i,o,a,u)}function Ve({data:e,centredView:t=!1,...n}){const{name:r,country:i,icon:o,temp:a,humidity:u,speed:c,feels_like:l}=e;return g(T,{sx:{position:"relative",height:"320px",display:"flex",flexDirection:"column",alignItems:"center",p:"5px"},...n,children:[g(C,{maxWidth:"140px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textTransform:"capitalize",children:[r,", ",i]}),p("img",{src:ve(o),alt:"weather icon",width:"100"}),g(b,{display:"flex",flexDirection:"column",px:"15px",width:"100%",sx:{alignItems:t?"center":"flex-start"},children:[p(C,{children:`${e.details}`}),p(b,{width:"100%",marginY:"5px",height:"0.5px",sx:{backgroundColor:"#D3D3D3"}}),p(C,{fontSize:48,children:`${a.toFixed()}Â°C`}),p(we,{humidity:u,speed:c,feels_like:l})]})]})}var G={},Oe=me;Object.defineProperty(G,"__esModule",{value:!0});var O=G.default=void 0,Fe=Oe(fe()),Qe=he,Ae=(0,Fe.default)((0,Qe.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");O=G.default=Ae;const He=B("div")(()=>({position:"relative"})),Ke=B("div")(({theme:e})=>({position:"absolute",opacity:"0",top:0,borderRadius:"4px",width:"100%",height:"100%",zIndex:10,backgroundColor:"rgba(156, 157, 157, 0.25)",transition:"all 0.2s","&:hover":{opacity:"1"},[e.breakpoints.down("md")]:{opacity:"1",backgroundColor:"transparent"}})),Ue=({lat:e,lon:t,refetch:n,name:r,children:i})=>{const o=oe(),a=se(),u=E(s=>ae(s,e,t));return g(He,{onClick:()=>o(`/${r}`,{state:{lat:e,lon:t}}),children:[g(Ke,{children:[p(L,{disableTouchRipple:!0,sx:{position:"absolute",left:"0"},onClick:s=>{if(s.stopPropagation(),u){a(ce({lat:e,lon:t}));return}a(ue({lat:e,lon:t}))},children:u?p(Se,{}):p($e,{})}),p(L,{disableTouchRipple:!0,sx:{position:"absolute",right:"0"},onClick:s=>{s.stopPropagation(),n()},children:p(O,{})})]}),i]})},Ze=({lat:e,lon:t})=>{const{data:n,isRefetching:r,refetch:i}=ge(`WeatherLat:${e}Lon:${t}`,()=>xe.getWeather({lat:e,lon:t,units:"metric"})),o=D(),a=Ie(o.breakpoints.down("sm"));return n==null||r?p(T,{sx:{display:"flex",height:"320px"},children:p(le,{})}):p(Ue,{lat:e,lon:t,refetch:i,name:n.name,children:p(Ve,{data:n,centredView:a})})};function Ye(){const e=E(pe);return p(b,{sx:{maxWidth:1145,width:"100%",minHeight:650,height:"auto",margin:"10px auto 5px",p:"10px"},children:g(j,{container:!0,rowSpacing:2,columnSpacing:{xs:3,md:6},children:[e.length===0&&p(b,{display:"flex",width:"100%",justifyContent:"center",children:p(C,{color:"lightgrey",children:"You have no cities added, try to use search"})}),e.map(t=>p(j,{item:!0,xs:12,sm:6,md:4,lg:3,children:p(Ze,{lat:t.lat,lon:t.lon})},`${t.lat}-${t.lon}`))]})})}function tt(){return p(Ce,{maxWidth:"lg",children:p(Ye,{})})}export{tt as default};
